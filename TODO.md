# Список Задач (TODO)

## Краткий TODO:

1.  **Инструкция:** ~~**Переработать инструкцию:** Проанализировать `instruction.html`, написать новый, понятный текст инструкции, и интегрировать его в `index.html` с вкладками и корректной пагинацией.~~ **(Выполнено)**
2.  **Память (ЗП/ВП):** Реализовать функционал **двух** регистров памяти согласно `instruction.html` (доступ через `ЗАП 1/2`, `СЧ 1/2`).
3.  **Кнопки:** Проверить и доработать функционал всех кнопок калькулятора.
4.  **Логирование:** Улучшить или переделать систему логирования.

## Подробный TODO:

1.  **Переработка и интеграция инструкции:** **(Выполнено)**
    *   ~~**Анализ и переписывание контента:**~~
        *   ~~[x] Проанализировать `instruction.html` для понимания всех функций, операций, режимов, ограничений и примеров калькулятора С3-15.~~
        *   ~~[x] **Написать новый, структурированный и понятный текст** для каждого раздела инструкции (Основные операции, Функции, Память, Ввод чисел, Сложные вычисления, Сброс).~~
        *   ~~[x] **Добавить Примеры и Ограничения (ОДЗ):** Использовать оригинальные изображения для таблиц и примеров.~~
        *   ~~[x] Представить переписанный контент в удобном для интеграции формате (например, массив объектов JavaScript).~~
    *   ~~**Реализация UI в `index.html`:**~~
        *   ~~[x] Определить или создать контейнер для инструкции в `index.html`.~~
        *   ~~[x] **Исправить CSS:** Задать контейнеру (`instruction-content-area`) корректную высоту/max-height и `overflow: auto;`.~~
        *   ~~[x] **Исправить логику вкладок/пагинации:** Пагинация видна только на вкладке "Инструкция". Контент "Примеры/Ограничения" отображается на соответствующей вкладке.~~
        *   ~~[x] Реализовать систему вкладок ("Инструкция", "Примеры/Ограничения") с помощью HTML/CSS/JS.~~
        *   ~~[x] **Исправить HTML/CSS:** Переместить пагинацию (`instruction-pagination`) вне прокручиваемой области и стилизовать так, чтобы она была всегда видна.~~
        *   ~~[x] **Обновить JS:** Динамически рендерить новый, переписанный контент инструкции и изображения примеров/ограничений во вкладках.~~
        *   ~~[x] **Удалить старый код:** Убрать ненужный парсер (`instruction_parser.js`) и связанный с ним код в `logic.js`.~~
2.  **Реализация регистров памяти (ЗП/ВП):**
    *   Проанализировать логику в `buttons.js` и `calculator.js` на предмет текущей реализации памяти.
    *   Реализовать хранение значений для **двух** регистров памяти (вероятно, в объекте JavaScript с ключами '1' и '2').
    *   Реализовать логику кнопок `ЗАП` (ЗП) и `СЧ` (ВП) в `buttons.js`:
        *   Ожидание нажатия цифровой клавиши **'1' или '2'** после `ЗАП`/`СЧ`.
        *   Запись текущего значения из дисплея в выбранный регистр памяти (`ЗАП` + `1` или `2`).
        *   Чтение значения из выбранного регистра памяти на дисплей (`СЧ` + `1` или `2`).
    *   Учесть специфику работы с памятью, описанную в `instruction.html` (например, какие регистры очищаются кнопкой `Cx`, а какие нет).
3.  **Полная проверка и доработка функционала кнопок:**
    *   Систематически проверить каждую кнопку (`+`, `-`, `*`, `/`, `sqrt`, `x^y`, тригонометрия, логарифмы, `1/x`, `e^x`, `Pi`, ввод чисел, `.` , `+/-`, `ВП`, `Cx`, `=`).
    *   Сравнить поведение с описанием в `instruction.html` и примерами.
    *   Исправить ошибки в `calculator.js`, `buttons.js`, `parser.js`.
    *   Обеспечить корректную обработку порядка операций, скобок (если есть), научной нотации (`ВП`).
    *   Реализовать правильную обработку ошибок и переполнения (отображение точек, поведение `Cx`).
4.  **Стратегия и реализация логирования:**
    *   **Анализ:** Оценить текущий `logger.js` и его использование.
    *   **Стратегия:**
        *   **Цель:** Отладка ошибок (порядок нажатий, двойные нажатия, некорректные вычисления).
        *   **Что логировать (максимально подробно):**
            *   Каждое нажатие кнопки (с временной меткой).
            *   Состояние *всех* релевантных регистров (X, Y, память 1, память 2, текущая операция, режим ввода, значение на дисплее) *до* и *после* обработки нажатия или выполнения операции.
            *   Вызовы вычислительных функций (`calculator.js`) с аргументами и результатами.
            *   Возникновение любых ошибок (математических, логических, переполнение, ОДЗ) с состоянием калькулятора на момент ошибки.
        *   **Уровни:** DEBUG (детальные состояния), INFO (нажатия, результаты), ERROR (ошибки).
        *   **Хранение:**
            *   Логи накапливаются в JavaScript (например, массив строк или объектов).
            *   **Реализовать кнопку/механизм в UI для скачивания накопленных логов в виде текстового файла (`.log` или `.txt`)**.
            *   Дублировать вывод в консоль разработчика (возможно, с фильтрацией по уровню).
        *   **Формат:** Читаемый текстовый формат с временными метками и четким указанием события (e.g., `[TIMESTAMP] [LEVEL] Event: Details {state}`).
    *   **Реализация:** Переписать или доработать `logger.js` и интегрировать вызовы логгера во все релевантные части кода (`buttons.js`, `calculator.js`, `logic.js`), обеспечивая необходимую детализацию. 